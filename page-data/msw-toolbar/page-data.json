{"componentChunkName":"component---src-templates-post-jsx","path":"/msw-toolbar/","result":{"data":{"site":{"siteMetadata":{"title":"Team Growing"}},"markdownRemark":{"id":"c7f66eaa-90e0-519d-8f14-cc308cc82297","excerpt":"툴바를 만들자! 저희 그로잉팀은 런타임에서 여러 기능들의 성공과 실패의 조합에 따라 테스트를 할 수 있는 방식이 필요했고, 이를 MSW Toolbar를 만들어 해결했어요. 이번 글에서는 MSW Toolbar 제작 과정을 소개할게요. 정의된 핸들러 리스트 받아오기 툴바 구현을 위해 먼저 정의해 둔 핸들러 리스트 정보들을 가져올 수 있는 지가 가장 중요했어요…","html":"<h2>툴바를 만들자!</h2>\n<p>저희 그로잉팀은 런타임에서 여러 기능들의 성공과 실패의 조합에 따라 테스트를 할 수 있는 방식이 필요했고, 이를 MSW Toolbar를 만들어 해결했어요.</p>\n<p>이번 글에서는 MSW Toolbar 제작 과정을 소개할게요.</p>\n<div align='center'>\n    <img src='/team-blog/static/msw-5e1136c34082572c62501f89ce7736f0.gif' width='300px'>\n</div>\n<h3>정의된 핸들러 리스트 받아오기</h3>\n<p>툴바 구현을 위해 먼저 정의해 둔 핸들러 리스트 정보들을 가져올 수 있는 지가 가장 중요했어요. 따라서 해당 정보를 받아올 수 있는지 확인하는 작업을 먼저 진행했어요.</p>\n<div class=\"gatsby-highlight\" data-language=\"tsx\"><pre class=\"language-tsx\"><code class=\"language-tsx\"><span class=\"token comment\">// App.ts</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> handlers <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"mocks/handlers\"</span>\n\n<span class=\"token comment\">// 각 핸들러의 경로와 메소드 정보를 콘솔에 출력</span>\nhandlers<span class=\"token punctuation\">.</span><span class=\"token function\">forEach</span><span class=\"token punctuation\">(</span>handler <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span> path<span class=\"token punctuation\">,</span> method <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> handler<span class=\"token punctuation\">.</span>info <span class=\"token comment\">// 핸들러의 정보에서 경로와 메소드 추출</span>\n  <span class=\"token builtin\">console</span><span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> path<span class=\"token punctuation\">,</span> method <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span></code></pre></div>\n<p>다행히도 MSW 핸들러에서 제공하는 정보를 활용하여, 간단한 코드 몇 줄로 원하는 핸들러 정보를 추출할 수 있었어요.</p>\n<p><span class='gatsby-resp-image-wrapper' style='position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 591px; margin-bottom: 16px;'>\n      <a class='gatsby-resp-image-link' href='/team-blog/static/4806ff3d1e408562695dfde240214c09/c1f10/handler-list-image.png' style='display: block' target='_blank' rel='noopener'>\n    <span class='gatsby-resp-image-background-image' style=\"padding-bottom: 18.23529411764706%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAECAIAAAABPYjBAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAsElEQVR42k2PWY7EMAhEcxawxxte4i2200nPdv8zDfkbhNCTUBXFFkNQ1mE5RO64V2yTW5SOuWFfxlEiskQiN6M1Isp/teV91z7AuPE4oU1Yn3B+MWM/GUQdct6Ct+OyPsSUjA9srbUSiFstxYTEGpysf+HrG66fh8cF9y8DzLetLdaqSvtYbyJS2ihjpXNbjEE5grY4OXJyPtjPh8sB7JX7M/sSz7bxXyyO3suQZB1/sycr4YzXy1kAAAAASUVORK5CYII='); background-size: cover; display: block;\"></span>\n  <img class='gatsby-resp-image-image' alt='handler list image' title='' src='/team-blog/static/4806ff3d1e408562695dfde240214c09/c1f10/handler-list-image.png' srcset='/team-blog/static/4806ff3d1e408562695dfde240214c09/e7570/handler-list-image.png 170w,\n/team-blog/static/4806ff3d1e408562695dfde240214c09/f46e7/handler-list-image.png 340w,\n/team-blog/static/4806ff3d1e408562695dfde240214c09/c1f10/handler-list-image.png 591w' sizes='(max-width: 591px) 100vw, 591px' style='width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;' loading='lazy' decoding='async'>\n  </a>\n    </span>\n이렇게 콘솔에 출력된 정보를 바탕으로, 핸들러 정보를 관리하는 클래스나 객체를 구성하여 필요할 때마다 활용하면 될 것 같네요!</p>\n<h3>UI</h3>\n<p>툴바의 UI는 피그마를 사용하여 디자인했습니다. 툴바에 포함될 주요 기능은 다음과 같아요.</p>\n<ol>\n<li><strong>API 경로 검색</strong>: 사용자가 특정 API 경로를 검색하여 해당하는 핸들러를 찾을 수 있습니다.</li>\n<li><strong>상태 코드 변경</strong>: 성공 또는 에러 상태 코드를 동적으로 변경할 수 있어, 다양한 응답 시나리오를 시뮬레이션할 수 있습니다.</li>\n<li><strong>응답 지연 설정</strong>: API 응답의 지연 시간을 설정하여 네트워크 지연 테스트를 할 수 있습니다.</li>\n</ol>\n<p><span class='gatsby-resp-image-wrapper' style='position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 662px; margin-bottom: 16px;'>\n      <a class='gatsby-resp-image-link' href='/team-blog/static/430923936cda4ac400a16718b871dc18/46b67/ui-image.png' style='display: block' target='_blank' rel='noopener'>\n    <span class='gatsby-resp-image-background-image' style=\"padding-bottom: 74.70588235294117%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAPCAIAAABr+ngCAAAACXBIWXMAAAsTAAALEwEAmpwYAAABtklEQVR42qWRS0sCURTH55NUIMYsFHxBvh84bcRRZ3J84Kih066CKIw030gbN0kk+gkkQUEGdDEuxC/Wvzshow216Le43Hv+53/uuedSpwSj0WgwGI4JR4QTAuLGL1FfpYLBYL1WB9Vqtd1udzod7FutVqVSsVgsfr+/8dyoEbrdLhKgNptNqFarlWKYc3kmL5fLxWKxWq3W67WiKJvNZjKZQA6Hw7OP2Xw+l2VZISBhu91Op1ObzUZ5vV6O51iWjcfjsViMJUSjUY7jYA4FQ0+PNUm6EkUxn8+n02mkMQwTiUTsdjvl8/kQ4nn+QgOOqVQKtfGo+7uHcqmcy+VKpVK/3+/1emr/32bk4R5eA46CIEBGX4V8IZlMJhIJ3AEbHvxCODTvSmCDIHkz8/b6fnN9m81mi8WiJEmXBGz2zOhWIGhv9ng8iHME+Mfj8WAwGI1Gw+Fwz4xVJKBJrRlxdSJY1Ymq4/ytba15F08SUCiTyfw9sAOzdiL/NuMzkIef4DTgiPbwz263W1dVS1OBQABjRKqgAUe8yuFwoLSuiiBUymw2u1yusx84nU6apk0mk66KIE3Tn5znJn09RpWyAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"></span>\n  <img class='gatsby-resp-image-image' alt='ui image' title='' src='/team-blog/static/430923936cda4ac400a16718b871dc18/46b67/ui-image.png' srcset='/team-blog/static/430923936cda4ac400a16718b871dc18/e7570/ui-image.png 170w,\n/team-blog/static/430923936cda4ac400a16718b871dc18/f46e7/ui-image.png 340w,\n/team-blog/static/430923936cda4ac400a16718b871dc18/46b67/ui-image.png 662w' sizes='(max-width: 662px) 100vw, 662px' style='width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;' loading='lazy' decoding='async'>\n  </a>\n    </span></p>\n<h3><strong>핸들러 동적 변경 고려사항</strong></h3>\n<p>상태 코드나 응답 지연 시간을 변경하려면, 기존의 핸들러 코드를 동적으로 조절할 필요가 있었어요. 예를 들어, 성공 응답과 에러 응답을 다루는 두 가지 핸들러가 있다고 가정해 보겠습니다.</p>\n<div class=\"gatsby-highlight\" data-language=\"tsx\"><pre class=\"language-tsx\"><code class=\"language-tsx\"><span class=\"token comment\">// mocks/user/getUserHandler.ts</span>\n<span class=\"token keyword\">type</span> <span class=\"token class-name\">Params</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  userId<span class=\"token operator\">:</span> <span class=\"token builtin\">string</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">const</span> data<span class=\"token operator\">:</span> UserDto <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n\tid<span class=\"token operator\">:</span> <span class=\"token string\">'1'</span><span class=\"token punctuation\">,</span>\n\tnickName<span class=\"token operator\">:</span> <span class=\"token string\">'곰곰곰'</span><span class=\"token punctuation\">,</span>\n\tbirthDay<span class=\"token operator\">:</span> <span class=\"token string\">'2000-01-01'</span><span class=\"token punctuation\">,</span>\n\tanniversaryDay<span class=\"token operator\">:</span> <span class=\"token string\">'2023-12-16'</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">// 성공 응답 핸들러</span>\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">const</span> <span class=\"token function-variable function\">getUserSuccessHandler</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n\thttp<span class=\"token punctuation\">.</span><span class=\"token generic-function\"><span class=\"token function\">get</span><span class=\"token generic class-name\"><span class=\"token operator\">&lt;</span>Params<span class=\"token punctuation\">,</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">,</span> UserDto<span class=\"token punctuation\">,</span> <span class=\"token string\">'/user/:userId'</span><span class=\"token operator\">></span></span></span><span class=\"token punctuation\">(</span>\n    <span class=\"token string\">'/user/:userId'</span><span class=\"token punctuation\">,</span>\n    <span class=\"token keyword\">async</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n\t\t\t<span class=\"token keyword\">await</span> <span class=\"token function\">delay</span><span class=\"token punctuation\">(</span><span class=\"token number\">1000</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// 1초 지연</span>\n\n      <span class=\"token keyword\">return</span> HttpResponse<span class=\"token punctuation\">.</span><span class=\"token function\">json</span><span class=\"token punctuation\">(</span>data<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span>\n\t      status<span class=\"token operator\">:</span> <span class=\"token number\">200</span><span class=\"token punctuation\">,</span>\n\t      statusText<span class=\"token operator\">:</span> <span class=\"token string\">'요청에 상공했습니다.'</span><span class=\"token punctuation\">,</span>\n\t\t<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token comment\">// 실패 응답 핸들러</span>\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">const</span> <span class=\"token function-variable function\">getUserErrorHandler</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n\thttp<span class=\"token punctuation\">.</span><span class=\"token generic-function\"><span class=\"token function\">get</span><span class=\"token generic class-name\"><span class=\"token operator\">&lt;</span>Params<span class=\"token punctuation\">,</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'/user/:userId'</span><span class=\"token operator\">></span></span></span><span class=\"token punctuation\">(</span>\n    <span class=\"token string\">'/user/:userId'</span><span class=\"token punctuation\">,</span>\n    <span class=\"token keyword\">async</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n\t\t\t<span class=\"token keyword\">await</span> <span class=\"token function\">delay</span><span class=\"token punctuation\">(</span><span class=\"token number\">500</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// 0.5초 지연</span>\n\n      <span class=\"token keyword\">return</span> HttpResponse<span class=\"token punctuation\">.</span><span class=\"token function\">json</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">null</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span>\n\t      status<span class=\"token operator\">:</span> <span class=\"token number\">400</span><span class=\"token punctuation\">,</span>\n\t      statusText<span class=\"token operator\">:</span> <span class=\"token string\">'요청에 실패했습니다.'</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>세 부분에서 변경이 일어나는 것을 알 수 있어요.</p>\n<ol>\n<li><strong>응답 타입</strong>: 성공과 실패 응답의 타입이 다를 수 있습니다.</li>\n<li><strong>지연 시간</strong>: <code class=\"language-text\">delay</code> 함수의 인자를 통해 응답 지연 시간을 설정합니다.</li>\n<li><strong>응답 데이터</strong>: <code class=\"language-text\">HttpResponse.json</code> 메소드의 인자로 전달되는 데이터입니다.</li>\n</ol>\n<p>따라서 이 요소들을 런타임에 동적으로 바꿔줄 수 있어야 했어요. 이를 하드코딩이 아닌 변수로 지정해두고 동적으로 바꿔주면 될 것 같아요.</p>\n<h3>해당하는 URL에 맞는 핸들러 찾는 법</h3>\n<p>그렇다면 검색한 API URL에 맞는 핸들러는 어떻게 찾을 수 있을까요?</p>\n<p>같은 URL에 대해 다른 HTTP 메소드(GET, POST, DELETE 등)를 사용하는 경우가 많기 때문에, 단순히 URL만으로 핸들러를 찾는 것은 충분하지 않았아요.</p>\n<p>이를 해결하기 위해 핸들러 정보를 저장할 때 URL 경로와 HTTP 메소드의 조합을 고유한 식별자로 사용하기로 결정했어요.</p>\n<div class=\"gatsby-highlight\" data-language=\"tsx\"><pre class=\"language-tsx\"><code class=\"language-tsx\"><span class=\"token keyword\">interface</span> <span class=\"token class-name\">HandlerInfoList</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token punctuation\">[</span>path<span class=\"token operator\">:</span> <span class=\"token builtin\">string</span><span class=\"token punctuation\">]</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token punctuation\">[</span>method<span class=\"token operator\">:</span> <span class=\"token builtin\">string</span><span class=\"token punctuation\">]</span><span class=\"token operator\">:</span> HandlerInfo\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p><span class='gatsby-resp-image-wrapper' style='position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 481px; margin-bottom: 16px;'>\n      <a class='gatsby-resp-image-link' href='/team-blog/static/840531a3fe05d7281ef74656cbdb898f/213b2/url-search-image.png' style='display: block' target='_blank' rel='noopener'>\n    <span class='gatsby-resp-image-background-image' style=\"padding-bottom: 50%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAIAAAA7N+mxAAAACXBIWXMAAAsTAAALEwEAmpwYAAABq0lEQVR42mWSS0sCYRSGvx8lbjRUsNHUvI2XuajjJcVFCdEuqDBDMqJA2gTWqDSamYm5CukPuBYE17lR3FhL0V7mwyh6Fof3u51z3jNDdnf3nqqtRqPxoDzU63VFUWq1GkRN5fkfzWaz1WrhWiAQIPd38mq++pp/fozHs9lsMpnMVKbTKeJyuVz9he4sFotMJkMYZpMXgoIoJJPJHRUqaEwkEvF4PPELbKZSqUgkYrVayX7m4PqieHp8ZrPZtlXsdrvT6XS5XG63G0unCk4dDgcEwzAGg8FkMlksFnJ0eKLIj7c3Jb/fHwqFRFEMBoOI4XBYkiQIQRCi0SjtJRaL8Tzv9XpZlkU6YjQadXqdfkOPlJsqP4JqFJFlud/vDwaDUqnU6/WGw+FoNEqn0wSNsV7W4/Yg05YKFbY10KiG4jDPcRw6oubxkFyeX729vjeVF/UGOpXQJyKdEwSe+Xw+DAKeYc1sNms0Gq1WC0FQVuRFjuPpMaBiew0q53K5crmMz57NZovFYqVSqVarGBD5cYjRW/6BTVQoFAr4bdrtdj6fh+1Op9PtdiVJ+gY/NxK8PBIHZAAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"></span>\n  <img class='gatsby-resp-image-image' alt='url search image' title='' src='/team-blog/static/840531a3fe05d7281ef74656cbdb898f/213b2/url-search-image.png' srcset='/team-blog/static/840531a3fe05d7281ef74656cbdb898f/e7570/url-search-image.png 170w,\n/team-blog/static/840531a3fe05d7281ef74656cbdb898f/f46e7/url-search-image.png 340w,\n/team-blog/static/840531a3fe05d7281ef74656cbdb898f/213b2/url-search-image.png 481w' sizes='(max-width: 481px) 100vw, 481px' style='width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;' loading='lazy' decoding='async'>\n  </a>\n    </span></p>\n<h3>HandlerInfoManager 구현과 활용</h3>\n<p>핸들러들을 저장하고 꺼내오고 delay 변수값들을 변경시켜주는 작업을 저희 그로잉 팀은 HandlerInfoManager 클래스를 제작하여 해결하였어요.</p>\n<div class=\"gatsby-highlight\" data-language=\"tsx\"><pre class=\"language-tsx\"><code class=\"language-tsx\"><span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> handlers <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"mocks/handlers\"</span>\n\n<span class=\"token keyword\">const</span> <span class=\"token constant\">DEFAULT_STATUS</span> <span class=\"token operator\">=</span> <span class=\"token number\">200</span>\n<span class=\"token keyword\">const</span> <span class=\"token constant\">DEFAULT_DELAY</span> <span class=\"token operator\">=</span> <span class=\"token number\">1000</span>\n\n<span class=\"token keyword\">type</span> <span class=\"token class-name\">StatusType</span> <span class=\"token operator\">=</span> <span class=\"token number\">200</span> <span class=\"token operator\">|</span> <span class=\"token number\">400</span>\n\n<span class=\"token keyword\">interface</span> <span class=\"token class-name\">HandlerInfo</span> <span class=\"token punctuation\">{</span>\n  status<span class=\"token operator\">:</span> StatusType\n  delayTime<span class=\"token operator\">:</span> <span class=\"token builtin\">number</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">interface</span> <span class=\"token class-name\">HandlerInfoList</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token punctuation\">[</span>path<span class=\"token operator\">:</span> <span class=\"token builtin\">string</span><span class=\"token punctuation\">]</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token punctuation\">[</span>method<span class=\"token operator\">:</span> <span class=\"token builtin\">string</span><span class=\"token punctuation\">]</span><span class=\"token operator\">:</span> HandlerInfo\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">interface</span> <span class=\"token class-name\">HandlerInfoParams</span> <span class=\"token punctuation\">{</span>\n  path<span class=\"token operator\">:</span> <span class=\"token builtin\">string</span>\n  method<span class=\"token operator\">:</span> <span class=\"token builtin\">string</span>\n  code<span class=\"token operator\">:</span> StatusType\n  time<span class=\"token operator\">:</span> <span class=\"token builtin\">number</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">class</span> <span class=\"token class-name\">HandlerInfoManager</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">private</span> handlerInfos<span class=\"token operator\">:</span> HandlerInfoList <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span>\n\n  <span class=\"token comment\">// 핸들러 정보 초기화</span>\n  <span class=\"token keyword\">public</span> <span class=\"token function\">initHandlerInfo</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token operator\">:</span> <span class=\"token keyword\">void</span> <span class=\"token punctuation\">{</span>\n    handlers<span class=\"token punctuation\">.</span><span class=\"token function\">forEach</span><span class=\"token punctuation\">(</span>handler <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n      <span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span> path<span class=\"token punctuation\">,</span> method <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> handler<span class=\"token punctuation\">.</span>info\n      <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">setHandlerInfo</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n        path<span class=\"token operator\">:</span> path<span class=\"token punctuation\">.</span><span class=\"token function\">toString</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n        method<span class=\"token operator\">:</span> method<span class=\"token punctuation\">.</span><span class=\"token function\">toString</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n        code<span class=\"token operator\">:</span> <span class=\"token number\">200</span><span class=\"token punctuation\">,</span> <span class=\"token comment\">// 기본 상태 코드</span>\n        time<span class=\"token operator\">:</span> <span class=\"token number\">1000</span><span class=\"token punctuation\">,</span> <span class=\"token comment\">// 기본 지연 시간</span>\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token comment\">// 핸들러 정보 설정</span>\n  <span class=\"token keyword\">public</span> <span class=\"token function\">setHandlerInfo</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> path<span class=\"token punctuation\">,</span> method<span class=\"token punctuation\">,</span> code<span class=\"token punctuation\">,</span> time <span class=\"token punctuation\">}</span><span class=\"token operator\">:</span> HandlerInfoParams<span class=\"token punctuation\">)</span><span class=\"token operator\">:</span> <span class=\"token keyword\">void</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token operator\">!</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>handlerInfos<span class=\"token punctuation\">[</span>path<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>handlerInfos<span class=\"token punctuation\">[</span>path<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span>\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>handlerInfos<span class=\"token punctuation\">[</span>path<span class=\"token punctuation\">]</span><span class=\"token punctuation\">[</span>method<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span> status<span class=\"token operator\">:</span> code<span class=\"token punctuation\">,</span> delayTime<span class=\"token operator\">:</span> time <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token comment\">// 핸들러 리스트 조회</span>\n  <span class=\"token keyword\">public</span> <span class=\"token function\">getHandlerInfos</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token operator\">:</span> HandlerInfoList <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>handlerInfos\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token comment\">// 특정 핸들러 정보 조회</span>\n  <span class=\"token keyword\">public</span> <span class=\"token function\">getHandlerInfo</span><span class=\"token punctuation\">(</span>path<span class=\"token operator\">:</span> <span class=\"token builtin\">string</span><span class=\"token punctuation\">,</span> method<span class=\"token operator\">:</span> <span class=\"token builtin\">string</span><span class=\"token punctuation\">)</span><span class=\"token operator\">:</span> HandlerInfo <span class=\"token operator\">|</span> <span class=\"token keyword\">undefined</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>handlerInfos<span class=\"token punctuation\">[</span>path<span class=\"token punctuation\">]</span><span class=\"token operator\">?.</span><span class=\"token punctuation\">[</span>method<span class=\"token punctuation\">]</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">const</span> handlerInfoManager <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">HandlerInfoManager</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></code></pre></div>\n<p>이렇게 <code class=\"language-text\">HandlerInfoManager</code>를 사용하면 핸들러의 상태 코드와 지연 시간을 런타임에 변경할 수 있으며, 툴바 UI에서 사용자의 입력에 따라 이러한 변경을 적용할 수 있습니다.</p>\n<h3>사용 예시</h3>\n<p>사용 예시는 다음과 같아요.</p>\n<div class=\"gatsby-highlight\" data-language=\"tsx\"><pre class=\"language-tsx\"><code class=\"language-tsx\"><span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> handlerInfoManager <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"mocks/HandlerInfoManager\"</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> CoupleDto <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"models/couple\"</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> delay<span class=\"token punctuation\">,</span> http<span class=\"token punctuation\">,</span> HttpResponse <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"msw\"</span>\n\n<span class=\"token keyword\">interface</span> <span class=\"token class-name\">Params</span> <span class=\"token punctuation\">{</span>\n  coupleId<span class=\"token operator\">:</span> <span class=\"token builtin\">string</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">const</span> data<span class=\"token operator\">:</span> CoupleDto <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  coupleId<span class=\"token operator\">:</span> <span class=\"token string\">\"1\"</span><span class=\"token punctuation\">,</span>\n  myName<span class=\"token operator\">:</span> <span class=\"token string\">\"연주\"</span><span class=\"token punctuation\">,</span>\n  partnerName<span class=\"token operator\">:</span> <span class=\"token string\">\"민지\"</span><span class=\"token punctuation\">,</span>\n  dayCount<span class=\"token operator\">:</span> <span class=\"token number\">10</span><span class=\"token punctuation\">,</span>\n  petId<span class=\"token operator\">:</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">const</span> getCoupleHandler <span class=\"token operator\">=</span> http<span class=\"token punctuation\">.</span><span class=\"token generic-function\"><span class=\"token function\">get</span><span class=\"token generic class-name\"><span class=\"token operator\">&lt;</span>Params<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> CoupleDto <span class=\"token operator\">|</span> <span class=\"token keyword\">null</span><span class=\"token operator\">></span></span></span><span class=\"token punctuation\">(</span>\n  <span class=\"token string\">\"/couples/:coupleId\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token keyword\">async</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">const</span> responseList <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token number\">200</span><span class=\"token operator\">:</span> HttpResponse<span class=\"token punctuation\">.</span><span class=\"token function\">json</span><span class=\"token punctuation\">(</span>data<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span>\n        status<span class=\"token operator\">:</span> <span class=\"token number\">200</span><span class=\"token punctuation\">,</span>\n        statusText<span class=\"token operator\">:</span> <span class=\"token string\">\"success\"</span><span class=\"token punctuation\">,</span>\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n      <span class=\"token number\">400</span><span class=\"token operator\">:</span> HttpResponse<span class=\"token punctuation\">.</span><span class=\"token function\">json</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">null</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span>\n        status<span class=\"token operator\">:</span> <span class=\"token number\">400</span><span class=\"token punctuation\">,</span>\n        statusText<span class=\"token operator\">:</span> <span class=\"token string\">\"fail\"</span><span class=\"token punctuation\">,</span>\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token keyword\">const</span> handler <span class=\"token operator\">=</span> handlerInfoManager<span class=\"token punctuation\">.</span><span class=\"token function\">getHandlerInfo</span><span class=\"token punctuation\">(</span>\n      <span class=\"token string\">\"/couples/:coupleId\"</span><span class=\"token punctuation\">,</span>\n      <span class=\"token string\">\"GET\"</span>\n    <span class=\"token punctuation\">)</span>\n\n    <span class=\"token keyword\">const</span> status <span class=\"token operator\">=</span> handler<span class=\"token operator\">?.</span>status <span class=\"token operator\">||</span> <span class=\"token number\">200</span>\n    <span class=\"token keyword\">const</span> delayTime <span class=\"token operator\">=</span> handler<span class=\"token operator\">?.</span>delayTime <span class=\"token operator\">||</span> <span class=\"token number\">0</span>\n\n    <span class=\"token keyword\">await</span> <span class=\"token function\">delay</span><span class=\"token punctuation\">(</span>delayTime<span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">return</span> responseList<span class=\"token punctuation\">[</span>status<span class=\"token punctuation\">]</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">)</span></code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"tsx\"><pre class=\"language-tsx\"><code class=\"language-tsx\"><span class=\"token keyword\">const</span> <span class=\"token function-variable function\">handleClick</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span>path<span class=\"token operator\">:</span> <span class=\"token builtin\">string</span><span class=\"token punctuation\">,</span> method<span class=\"token operator\">:</span> <span class=\"token builtin\">string</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  handlerInfoManager<span class=\"token punctuation\">.</span><span class=\"token function\">setHandlerInfo</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> path<span class=\"token punctuation\">,</span> method<span class=\"token punctuation\">,</span> code<span class=\"token operator\">:</span> <span class=\"token number\">400</span><span class=\"token punctuation\">,</span> time<span class=\"token operator\">:</span> <span class=\"token number\">3000</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<h3>추상화를 해보자</h3>\n<p>모든 API 핸들러에서 반복적으로 나타나는 패턴들은 무엇이 있을까요?</p>\n<p>코드를 분석해 본 결과 다음 코드가 반복해서 작성되어야 했어요. 이를 추상화하여 코드 중복을 줄여볼게요.</p>\n<div class=\"gatsby-highlight\" data-language=\"tsx\"><pre class=\"language-tsx\"><code class=\"language-tsx\"><span class=\"token keyword\">const</span> handler <span class=\"token operator\">=</span> handlerInfoManager<span class=\"token punctuation\">.</span><span class=\"token function\">getHandlerInfo</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"/couples/:coupleId\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"GET\"</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token keyword\">const</span> status <span class=\"token operator\">=</span> handler<span class=\"token operator\">?.</span>status <span class=\"token operator\">||</span> <span class=\"token number\">200</span>\n<span class=\"token keyword\">const</span> delayTime <span class=\"token operator\">=</span> handler<span class=\"token operator\">?.</span>delayTime <span class=\"token operator\">||</span> <span class=\"token number\">0</span>\n\n<span class=\"token keyword\">await</span> <span class=\"token function\">delay</span><span class=\"token punctuation\">(</span>delayTime<span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">return</span> responseList<span class=\"token punctuation\">[</span>status<span class=\"token punctuation\">]</span></code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"tsx\"><pre class=\"language-tsx\"><code class=\"language-tsx\"><span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> handlerInfoManager <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"mocks/HandlerInfoManager\"</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> delay<span class=\"token punctuation\">,</span> http <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"msw\"</span>\n\n<span class=\"token comment\">// 상태 코드별 응답 데이터를 매핑하는 객체 타입을 정의합니다.</span>\n<span class=\"token keyword\">type</span> <span class=\"token class-name\">ResponseData<span class=\"token operator\">&lt;</span>TResponse<span class=\"token operator\">></span></span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token punctuation\">[</span>key<span class=\"token operator\">:</span> <span class=\"token builtin\">number</span><span class=\"token punctuation\">]</span><span class=\"token operator\">:</span> TResponse <span class=\"token operator\">|</span> <span class=\"token keyword\">null</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token comment\">// API 요청 처리 함수 타입을 정의합니다.</span>\n<span class=\"token keyword\">type</span> <span class=\"token class-name\">RequestHandler<span class=\"token operator\">&lt;</span>TParams<span class=\"token punctuation\">,</span> TResponse<span class=\"token operator\">></span></span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span>\n  params<span class=\"token operator\">:</span> TParams\n<span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> ResponseData<span class=\"token operator\">&lt;</span>TResponse<span class=\"token operator\">></span>\n\n<span class=\"token comment\">// 범용 API 핸들러 생성 함수를 정의합니다.</span>\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">const</span> createApiHandler <span class=\"token operator\">=</span> <span class=\"token operator\">&lt;</span>TParams<span class=\"token punctuation\">,</span> TResponse<span class=\"token operator\">></span><span class=\"token punctuation\">(</span>\n  path<span class=\"token operator\">:</span> <span class=\"token builtin\">string</span><span class=\"token punctuation\">,</span>\n  method<span class=\"token operator\">:</span> <span class=\"token keyword\">keyof</span> <span class=\"token keyword\">typeof</span> http<span class=\"token punctuation\">,</span>\n  handleRequest<span class=\"token operator\">:</span> RequestHandler<span class=\"token operator\">&lt;</span>TParams<span class=\"token punctuation\">,</span> TResponse<span class=\"token operator\">></span>\n<span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span> http<span class=\"token punctuation\">[</span>method<span class=\"token punctuation\">]</span><span class=\"token punctuation\">(</span>path<span class=\"token punctuation\">,</span> <span class=\"token keyword\">async</span> req <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">const</span> params <span class=\"token operator\">=</span> req<span class=\"token punctuation\">.</span>params <span class=\"token keyword\">as</span> TParams\n    <span class=\"token keyword\">const</span> handler <span class=\"token operator\">=</span> handlerInfoManager<span class=\"token punctuation\">.</span><span class=\"token function\">getHandlerInfo</span><span class=\"token punctuation\">(</span>path<span class=\"token punctuation\">,</span> method<span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">const</span> delayTime <span class=\"token operator\">=</span> handler<span class=\"token operator\">?.</span>delayTime <span class=\"token operator\">||</span> <span class=\"token number\">0</span>\n    <span class=\"token keyword\">const</span> responseStatus <span class=\"token operator\">=</span> handler<span class=\"token operator\">?.</span>status <span class=\"token operator\">||</span> <span class=\"token number\">200</span>\n\n    <span class=\"token keyword\">await</span> <span class=\"token function\">delay</span><span class=\"token punctuation\">(</span>delayTime<span class=\"token punctuation\">)</span>\n\n    <span class=\"token keyword\">const</span> responseData <span class=\"token operator\">=</span> <span class=\"token function\">handleRequest</span><span class=\"token punctuation\">(</span>params<span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">return</span> responseData<span class=\"token punctuation\">[</span>responseStatus<span class=\"token punctuation\">]</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>이 추상화를 통해 아래처럼 간편하게 개별 핸들러들을 구현할 수 있게 되었어요. 각 API 핸들러마다 상태 코드와 지연 시간을 처리하는 로직을 반복해서 작성할 필요가 없어진거죠.</p>\n<div class=\"gatsby-highlight\" data-language=\"tsx\"><pre class=\"language-tsx\"><code class=\"language-tsx\"><span class=\"token comment\">// 사용 예시: 커플 정보 조회 API 핸들러</span>\n<span class=\"token keyword\">interface</span> <span class=\"token class-name\">Params</span> <span class=\"token punctuation\">{</span>\n  coupleId<span class=\"token operator\">:</span> <span class=\"token builtin\">string</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">const</span> data<span class=\"token operator\">:</span> CoupleDto <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  coupleId<span class=\"token operator\">:</span> <span class=\"token string\">\"1\"</span><span class=\"token punctuation\">,</span>\n  myName<span class=\"token operator\">:</span> <span class=\"token string\">\"연주\"</span><span class=\"token punctuation\">,</span>\n  partnerName<span class=\"token operator\">:</span> <span class=\"token string\">\"민지\"</span><span class=\"token punctuation\">,</span>\n  dayCount<span class=\"token operator\">:</span> <span class=\"token number\">10</span><span class=\"token punctuation\">,</span>\n  petId<span class=\"token operator\">:</span> <span class=\"token string\">\"1\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">const</span> getCoupleHandler <span class=\"token operator\">=</span> <span class=\"token generic-function\"><span class=\"token function\">createApiHandler</span><span class=\"token generic class-name\"><span class=\"token operator\">&lt;</span>Params<span class=\"token punctuation\">,</span> CoupleDto <span class=\"token operator\">|</span> <span class=\"token keyword\">null</span><span class=\"token operator\">></span></span></span><span class=\"token punctuation\">(</span>\n  <span class=\"token string\">\"/couples/:coupleId\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token string\">\"get\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n    <span class=\"token comment\">// 여기서는 단순화를 위해 바로 데이터를 반환하지만,</span>\n    <span class=\"token comment\">// 실제로는 params를 기반으로 데이터를 조회하거나 처리할 수 있습니다.</span>\n    <span class=\"token number\">200</span><span class=\"token operator\">:</span> data<span class=\"token punctuation\">,</span> <span class=\"token comment\">// 성공 응답</span>\n    <span class=\"token number\">400</span><span class=\"token operator\">:</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">,</span> <span class=\"token comment\">// 실패 응답</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">)</span></code></pre></div>\n<h2>그러나,,</h2>\n<p>처음에 생각한 기능들 외에 추가로 필요한 기능들이 있었어요. 처음에는 Path Parameter만 필요했었지만 Query Parameter가 필요한 경우도 있었어요.</p>\n<blockquote>\n<p>Parameter type</p>\n<ol>\n<li>Query parameters: <code class=\"language-text\">?a=1&amp;b=2</code>;</li>\n<li>Path parameters: <code class=\"language-text\">GET /user/:id</code>, where <code class=\"language-text\">id</code> is a path parameter.</li>\n</ol>\n</blockquote>\n<p>그리고 API 호출 성공 후에 로직을 처리할 콜백 함수가 필요했어요. DELETE 요청 후에 기존 data를 삭제하거나, PATCH 후에 수정하는 코드가 필요했기 때문이에요.</p>\n<p>이러한 추가 요구사항을 충족하기 위해 다음과 같이 <code class=\"language-text\">createApiHandler</code> 함수를 확장했어요.</p>\n<div class=\"gatsby-highlight\" data-language=\"tsx\"><pre class=\"language-tsx\"><code class=\"language-tsx\"><span class=\"token comment\">// ApiHandlerCreator.ts</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> DefaultBodyType<span class=\"token punctuation\">,</span> PathParams<span class=\"token punctuation\">,</span> delay<span class=\"token punctuation\">,</span> http<span class=\"token punctuation\">,</span> HttpResponse<span class=\"token punctuation\">,</span> StrictRequest <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'msw'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> handlerInfoManager <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'./HandlerInfoManager'</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">// 응답 데이터 타입 정의: 상태 코드별로 응답 데이터를 매핑</span>\n<span class=\"token keyword\">type</span> <span class=\"token class-name\">ResponseData<span class=\"token operator\">&lt;</span>TResponse<span class=\"token operator\">></span></span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token punctuation\">[</span>status<span class=\"token operator\">:</span> <span class=\"token builtin\">number</span><span class=\"token punctuation\">]</span><span class=\"token operator\">:</span> NullableResponse<span class=\"token operator\">&lt;</span>TResponse<span class=\"token operator\">></span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">// 요청 처리 핸들러 타입 정의: 경로 및 요청 매개변수를 받아 응답 데이터를 반환</span>\n<span class=\"token keyword\">type</span> <span class=\"token class-name\">RequestHandler<span class=\"token operator\">&lt;</span>TParams<span class=\"token punctuation\">,</span> TRequest<span class=\"token punctuation\">,</span> TResponse<span class=\"token operator\">></span></span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span>\n  params<span class=\"token operator\">:</span> TParams<span class=\"token punctuation\">,</span>\n  request<span class=\"token operator\">:</span> TRequest\n<span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> ResponseData<span class=\"token operator\">&lt;</span>TResponse<span class=\"token operator\">></span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">// 요청 처리 후 실행할 콜백 함수 타입 정의</span>\n<span class=\"token keyword\">type</span> <span class=\"token class-name\">AfterRequest<span class=\"token operator\">&lt;</span>TParams<span class=\"token punctuation\">,</span> TRequest<span class=\"token operator\">></span></span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span>\n  params<span class=\"token operator\">:</span> TParams<span class=\"token punctuation\">,</span>\n  request<span class=\"token operator\">:</span> TRequest\n<span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token keyword\">void</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">// 범용 API 핸들러 생성 함수</span>\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">const</span> createApiHandler <span class=\"token operator\">=</span> <span class=\"token operator\">&lt;</span>\n  TParams <span class=\"token keyword\">extends</span> <span class=\"token class-name\">PathParams</span><span class=\"token punctuation\">,</span>\n  TRequest <span class=\"token keyword\">extends</span> <span class=\"token class-name\">DefaultBodyType</span><span class=\"token punctuation\">,</span>\n  TResponse <span class=\"token keyword\">extends</span> <span class=\"token class-name\">DefaultBodyType</span>\n<span class=\"token operator\">></span><span class=\"token punctuation\">(</span>\n  path<span class=\"token operator\">:</span> <span class=\"token builtin\">string</span><span class=\"token punctuation\">;</span>\n  method<span class=\"token operator\">:</span> <span class=\"token keyword\">keyof</span> <span class=\"token keyword\">typeof</span> http<span class=\"token punctuation\">;</span>\n  requestHandler<span class=\"token operator\">:</span> RequestHandler<span class=\"token operator\">&lt;</span>TParams<span class=\"token punctuation\">,</span> StrictRequest<span class=\"token operator\">&lt;</span>TRequest<span class=\"token operator\">></span><span class=\"token punctuation\">,</span> TResponse<span class=\"token operator\">></span><span class=\"token punctuation\">;</span>\n  onSuccess<span class=\"token operator\">?</span><span class=\"token operator\">:</span> AfterRequest<span class=\"token operator\">&lt;</span>TParams<span class=\"token punctuation\">,</span> StrictRequest<span class=\"token operator\">&lt;</span>TRequest<span class=\"token operator\">>></span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span> http<span class=\"token punctuation\">[</span>method<span class=\"token punctuation\">]</span><span class=\"token operator\">&lt;</span>TParams<span class=\"token punctuation\">,</span> TRequest<span class=\"token punctuation\">,</span> TResponse<span class=\"token operator\">></span><span class=\"token punctuation\">(</span>\n    path<span class=\"token punctuation\">,</span>\n    <span class=\"token keyword\">async</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> params<span class=\"token punctuation\">,</span> request <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n      <span class=\"token comment\">// 요청 처리 함수를 호출하여 응답 데이터를 가져옴</span>\n      <span class=\"token keyword\">const</span> responseData <span class=\"token operator\">=</span> <span class=\"token function\">requestHandler</span><span class=\"token punctuation\">(</span>params<span class=\"token punctuation\">,</span> request<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n      <span class=\"token comment\">// 핸들러 정보(응답 지연 시간 및 상태 코드) 조회</span>\n      <span class=\"token keyword\">const</span> handlerInfo <span class=\"token operator\">=</span> handlerInfoManager<span class=\"token punctuation\">.</span><span class=\"token function\">getHandlerInfo</span><span class=\"token punctuation\">(</span>path<span class=\"token punctuation\">,</span> method<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n      <span class=\"token keyword\">const</span> delayTime <span class=\"token operator\">=</span> handlerInfo<span class=\"token operator\">?.</span>delayTime <span class=\"token operator\">||</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span>\n      <span class=\"token keyword\">const</span> responseStatus <span class=\"token operator\">=</span> handlerInfo<span class=\"token operator\">?.</span>status <span class=\"token operator\">||</span> <span class=\"token number\">200</span><span class=\"token punctuation\">;</span>\n\n      <span class=\"token comment\">// 응답 지연 시간 적용</span>\n      <span class=\"token keyword\">await</span> <span class=\"token function\">delay</span><span class=\"token punctuation\">(</span>delayTime<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n      <span class=\"token comment\">// 성공적인 요청 처리 후 콜백 함수 실행</span>\n      <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>responseStatus <span class=\"token operator\">!==</span> <span class=\"token number\">400</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        onSuccess<span class=\"token operator\">?.</span><span class=\"token punctuation\">(</span>params<span class=\"token punctuation\">,</span> request<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n      <span class=\"token punctuation\">}</span>\n\n      <span class=\"token comment\">// JSON 형태로 응답 반환</span>\n      <span class=\"token keyword\">return</span> HttpResponse<span class=\"token punctuation\">.</span><span class=\"token function\">json</span><span class=\"token punctuation\">(</span>responseData<span class=\"token punctuation\">[</span>responseStatus<span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span>\n        status<span class=\"token operator\">:</span> responseStatus<span class=\"token punctuation\">,</span>\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></code></pre></div>\n<h3>리팩토링: 파라미터 객체화</h3>\n<p>함수의 매개변수가 많아짐에 따라 가독성과 사용성 문제가 발생했어요. 몇번째 파라미터에 어떤 값을 넣어줘야 할지 시각적으로 알아보기 어려웠기 때문이에요.</p>\n<p>이를 해결하기 위해 \"객체 비구조화 할당(destructuring)\" 기법을 적용하여 함수 매개변수를 객체화했습니다. 이 접근 방식을 통해 함수 호출 시 매개변수의 순서에 덜 의존할 수 있게 되었고, 코드의 가독성을 향상시킬 수 있었어요.</p>\n<div class=\"gatsby-highlight\" data-language=\"tsx\"><pre class=\"language-tsx\"><code class=\"language-tsx\"><span class=\"token comment\">// 변경전</span>\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">const</span> deleteOurChatHandler <span class=\"token operator\">=</span> <span class=\"token generic-function\"><span class=\"token function\">createApiHandler</span><span class=\"token generic class-name\"><span class=\"token operator\">&lt;</span>\n  ChatDeleteParams<span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token keyword\">null</span>\n<span class=\"token operator\">></span></span></span><span class=\"token punctuation\">(</span>\n  <span class=\"token string\">\"/couples/:coupleId/chattings/:chattingId/delete-ours\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token string\">\"delete\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n    <span class=\"token number\">200</span><span class=\"token operator\">:</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">,</span>\n    <span class=\"token number\">400</span><span class=\"token operator\">:</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> chattingId <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    chatData <span class=\"token operator\">=</span> chatData<span class=\"token punctuation\">.</span><span class=\"token function\">filter</span><span class=\"token punctuation\">(</span>chat <span class=\"token operator\">=></span> chat<span class=\"token punctuation\">.</span>parentChatting<span class=\"token punctuation\">.</span>id <span class=\"token operator\">!==</span> chattingId<span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">)</span></code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"tsx\"><pre class=\"language-tsx\"><code class=\"language-tsx\"><span class=\"token comment\">// 변경후</span>\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">const</span> deleteOurChatHandler <span class=\"token operator\">=</span> <span class=\"token generic-function\"><span class=\"token function\">createApiHandler</span><span class=\"token generic class-name\"><span class=\"token operator\">&lt;</span>\n  ChatDeleteParams<span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token keyword\">null</span>\n<span class=\"token operator\">></span></span></span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n  path<span class=\"token operator\">:</span> <span class=\"token string\">\"/couples/:coupleId/chattings/:chattingId/delete-ours\"</span><span class=\"token punctuation\">,</span>\n  method<span class=\"token operator\">:</span> <span class=\"token string\">\"delete\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token function-variable function\">requestHandler</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n    <span class=\"token number\">200</span><span class=\"token operator\">:</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">,</span>\n    <span class=\"token number\">400</span><span class=\"token operator\">:</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n  <span class=\"token function-variable function\">onSuccess</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> chattingId <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    chatData <span class=\"token operator\">=</span> chatData<span class=\"token punctuation\">.</span><span class=\"token function\">filter</span><span class=\"token punctuation\">(</span>chat <span class=\"token operator\">=></span> chat<span class=\"token punctuation\">.</span>parentChatting<span class=\"token punctuation\">.</span>id <span class=\"token operator\">!==</span> chattingId<span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span></code></pre></div>\n<h3>MSW 툴바 컴포넌트 제작하기</h3>\n<p>이제 툴바 컴포넌트를 제작해 볼게요.</p>\n<span class='gatsby-resp-image-wrapper' style='position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; margin-bottom: 16px;'>\n      <a class='gatsby-resp-image-link' href='/team-blog/static/6d015c605644e2dfa852bf9b7c0cf265/e0a8c/selector-image.png' style='display: block' target='_blank' rel='noopener'>\n    <span class='gatsby-resp-image-background-image' style=\"padding-bottom: 71.76470588235294%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAIAAACgpqunAAAACXBIWXMAAAsTAAALEwEAmpwYAAACHklEQVR42o1RaW8SURSdn2VSq2nqwAwww5utA7Mx7ANMDKVusYBxqSlpLZuGD8QtRlusYjDFlRDxu/1NnpmJaZv6oSeTl/venXvvOfdQyWRy+/HObmvPcUqILStlGIZpmpYPBLquC6LAEy5OeFmWdR9rPijTsN6+Hh3uj2/euIWyfD5v23Ymk0FQKBRyuRwaKGHi6k5WslROXK/Vaus1pFRVpQghDBPGx3Ec4vhZ4CUWjfaZzrfCl3H8wxN55+jH0fGf48VigRkUmGCGU3QSiYQoitJZIIsWa9fIhn29qlfUqOSUnGq1Wi6XoZGy7fR08v3n11+NzSaaVSoVUHUcB4HruvgJjwy9mk1bdkpnQ/TKP3ia0d7wYOKCOYqiBGcAPAqEcGGmmMlosmxp2sfxeD6fTyaTVCrlaWZZBpp5ngdtcgogLAhCLBaL0DTWGGdZmZB2uz0cDnu9HgZSoP7w/tbWo21YBW+wRqw6m80WfeCKCQLHpQ0DY0WeD8zDqj3almm9e/P+8ODTndt3XbdSKpWQCMxEb80HjFj1AXbggivoeMWeGT5AEmqRO808oN3pdKbT6Ww263a7o9HoRHNgD8pw/tcqtKjX6xA5GAwajWan3X3x/OXT/jNP8/mC8/WRSCQUCtE0zbLslZXLS8uXlq8uebTFCwAtFFkRRcHQrGHr83739969V5IsXKg4ABFIQtVam8P+g4Pmxq4oCX8BbBQ/DrcTgOQAAAAASUVORK5CYII='); background-size: cover; display: block;\"></span>\n  <img class='gatsby-resp-image-image' alt='selector image' title='' src='/team-blog/static/6d015c605644e2dfa852bf9b7c0cf265/ca1dc/selector-image.png' srcset='/team-blog/static/6d015c605644e2dfa852bf9b7c0cf265/e7570/selector-image.png 170w,\n/team-blog/static/6d015c605644e2dfa852bf9b7c0cf265/f46e7/selector-image.png 340w,\n/team-blog/static/6d015c605644e2dfa852bf9b7c0cf265/ca1dc/selector-image.png 680w,\n/team-blog/static/6d015c605644e2dfa852bf9b7c0cf265/e0a8c/selector-image.png 998w' sizes='(max-width: 680px) 100vw, 680px' style='width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;' loading='lazy' decoding='async'>\n  </a>\n    </span>\n<div class=\"gatsby-highlight\" data-language=\"tsx\"><pre class=\"language-tsx\"><code class=\"language-tsx\"><span class=\"token comment\">//MSWToolbar.tsx</span>\n<span class=\"token keyword\">import</span> <span class=\"token operator\">...</span>\n\n<span class=\"token keyword\">function</span> <span class=\"token function\">MSWToolbar</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> queryClient <span class=\"token operator\">=</span> <span class=\"token function\">useQueryClient</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">const</span> <span class=\"token punctuation\">[</span>open<span class=\"token punctuation\">,</span> setOpen<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token function\">useState</span><span class=\"token punctuation\">(</span><span class=\"token boolean\">false</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">const</span> <span class=\"token punctuation\">[</span>items<span class=\"token punctuation\">,</span> setItems<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token function\">useState</span><span class=\"token punctuation\">(</span>\n    Object<span class=\"token punctuation\">.</span><span class=\"token function\">entries</span><span class=\"token punctuation\">(</span>handlerInfoManager<span class=\"token punctuation\">.</span><span class=\"token function\">getHandlerInfos</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">const</span> stagedValue <span class=\"token operator\">=</span> <span class=\"token generic-function\"><span class=\"token function\">useRef</span><span class=\"token generic class-name\"><span class=\"token operator\">&lt;</span><span class=\"token punctuation\">{</span>\n    <span class=\"token punctuation\">[</span>key<span class=\"token operator\">:</span> <span class=\"token builtin\">string</span><span class=\"token punctuation\">]</span><span class=\"token operator\">:</span> SetHandlerParams<span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token operator\">></span></span></span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">const</span> <span class=\"token function-variable function\">inputChangeHandler</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span>e<span class=\"token operator\">:</span> React<span class=\"token punctuation\">.</span>ChangeEvent<span class=\"token operator\">&lt;</span>HTMLInputElement<span class=\"token operator\">></span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span> value <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> e<span class=\"token punctuation\">.</span>target<span class=\"token punctuation\">;</span>\n    <span class=\"token function\">setItems</span><span class=\"token punctuation\">(</span>\n      Object<span class=\"token punctuation\">.</span><span class=\"token function\">entries</span><span class=\"token punctuation\">(</span>handlerInfoManager<span class=\"token punctuation\">.</span><span class=\"token function\">getHandlerInfos</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">filter</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span>path<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span>\n        path<span class=\"token punctuation\">.</span><span class=\"token function\">includes</span><span class=\"token punctuation\">(</span>value<span class=\"token punctuation\">)</span>\n      <span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">const</span> <span class=\"token function-variable function\">clickApplyBtnHandler</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    Object<span class=\"token punctuation\">.</span><span class=\"token function\">keys</span><span class=\"token punctuation\">(</span>stagedValue<span class=\"token punctuation\">.</span>current<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">forEach</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span>path<span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n      <span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span> method<span class=\"token punctuation\">,</span> code<span class=\"token punctuation\">,</span> time <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> stagedValue<span class=\"token punctuation\">.</span>current<span class=\"token punctuation\">[</span>path<span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n      handlerInfoManager<span class=\"token punctuation\">.</span><span class=\"token function\">setHandlerInfo</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> path<span class=\"token punctuation\">,</span> method<span class=\"token punctuation\">,</span> code<span class=\"token punctuation\">,</span> time <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    queryClient<span class=\"token punctuation\">.</span><span class=\"token function\">invalidateQueries</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token function\">setOpen</span><span class=\"token punctuation\">(</span><span class=\"token boolean\">false</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n      </span><span class=\"token punctuation\">{</span><span class=\"token operator\">!</span>open <span class=\"token operator\">&amp;&amp;</span> <span class=\"token punctuation\">(</span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">S.ToolbarButton</span></span> <span class=\"token attr-name\">onClick</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token function\">setOpen</span><span class=\"token punctuation\">(</span><span class=\"token boolean\">true</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">MSW</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span><span class=\"token class-name\">S.ToolbarButton</span></span><span class=\"token punctuation\">></span></span>\n      <span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span><span class=\"token plain-text\">\n\n      </span><span class=\"token punctuation\">{</span>open <span class=\"token operator\">&amp;&amp;</span> <span class=\"token punctuation\">(</span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">ToolbarBottomSheet</span></span> <span class=\"token attr-name\">open</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>open<span class=\"token punctuation\">}</span></span> <span class=\"token attr-name\">setOpen</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>setOpen<span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n          </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">S.SearchBar</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n            </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Icon</span></span> <span class=\"token attr-name\">icon</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>IconSearch<span class=\"token punctuation\">\"</span></span> <span class=\"token punctuation\">/></span></span><span class=\"token plain-text\">\n            </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">S.Input</span></span> <span class=\"token attr-name\">onChange</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>inputChangeHandler<span class=\"token punctuation\">}</span></span> <span class=\"token punctuation\">/></span></span><span class=\"token plain-text\">\n          </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span><span class=\"token class-name\">S.SearchBar</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n\n          </span><span class=\"token punctuation\">{</span>items<span class=\"token punctuation\">.</span>length <span class=\"token operator\">===</span> <span class=\"token number\">0</span> <span class=\"token operator\">&amp;&amp;</span> <span class=\"token punctuation\">(</span>\n            <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">S.MessageBox</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">검색 결과가 없어요!</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span><span class=\"token class-name\">S.MessageBox</span></span><span class=\"token punctuation\">></span></span>\n          <span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span><span class=\"token plain-text\">\n\n          </span><span class=\"token punctuation\">{</span>items<span class=\"token punctuation\">.</span>length <span class=\"token operator\">></span> <span class=\"token number\">0</span> <span class=\"token operator\">&amp;&amp;</span> <span class=\"token punctuation\">(</span>\n            <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">S.ItemsContainer</span></span> <span class=\"token attr-name\">className</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>hidden-scrollbar<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n              </span><span class=\"token punctuation\">{</span>items<span class=\"token punctuation\">.</span><span class=\"token function\">flatMap</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span>path<span class=\"token punctuation\">,</span> methods<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span>\n                Object<span class=\"token punctuation\">.</span><span class=\"token function\">entries</span><span class=\"token punctuation\">(</span>methods<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">map</span><span class=\"token punctuation\">(</span>\n                  <span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span>method<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span> delayTime<span class=\"token punctuation\">,</span> status <span class=\"token punctuation\">}</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">(</span>\n                    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">ToolbarItem</span></span>\n                      <span class=\"token attr-name\">key</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>path<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">-</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>method<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">}</span></span>\n                      <span class=\"token attr-name\">method</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>method<span class=\"token punctuation\">}</span></span>\n                      <span class=\"token attr-name\">path</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>path<span class=\"token punctuation\">}</span></span>\n                      <span class=\"token attr-name\">delayTime</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>delayTime<span class=\"token punctuation\">}</span></span>\n                      <span class=\"token attr-name\">status</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>status<span class=\"token punctuation\">}</span></span>\n                      <span class=\"token attr-name\">onChange</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">(</span>time<span class=\"token punctuation\">,</span> code<span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n                        stagedValue<span class=\"token punctuation\">.</span>current<span class=\"token punctuation\">[</span>path<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n                          path<span class=\"token punctuation\">,</span>\n                          method<span class=\"token punctuation\">,</span>\n                          code<span class=\"token punctuation\">,</span>\n                          time<span class=\"token punctuation\">,</span>\n                        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n                      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span></span>\n                    <span class=\"token punctuation\">/></span></span>\n                  <span class=\"token punctuation\">)</span>\n                <span class=\"token punctuation\">)</span>\n              <span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span><span class=\"token plain-text\">\n            </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span><span class=\"token class-name\">S.ItemsContainer</span></span><span class=\"token punctuation\">></span></span>\n          <span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span><span class=\"token plain-text\">\n\n          </span><span class=\"token punctuation\">{</span>items<span class=\"token punctuation\">.</span>length <span class=\"token operator\">></span> <span class=\"token number\">0</span> <span class=\"token operator\">&amp;&amp;</span> <span class=\"token punctuation\">(</span>\n            <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">S.ButtonArea</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n              </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">S.Button</span></span> <span class=\"token attr-name\">onClick</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>clickApplyBtnHandler<span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">적용하기</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span><span class=\"token class-name\">S.Button</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n            </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span><span class=\"token class-name\">S.ButtonArea</span></span><span class=\"token punctuation\">></span></span>\n          <span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span><span class=\"token plain-text\">\n        </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span><span class=\"token class-name\">ToolbarBottomSheet</span></span><span class=\"token punctuation\">></span></span>\n      <span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span><span class=\"token plain-text\">\n    </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span></span><span class=\"token punctuation\">></span></span>\n  <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> MSWToolbar<span class=\"token punctuation\">;</span></code></pre></div>\n<p>툴바 컴포넌트의 전체 코드와 툴바의 옵션 선택 부분입니다. 코드의 동작 과정을 자세히 살펴볼게요.</p>\n<ul>\n<li><code class=\"language-text\">handlerInfoManager.getHandlerInfos()</code> 를 사용해 handler의 path와 method를 받아오고 있어요.</li>\n<li><code class=\"language-text\">inputChangeHandler</code> 는 검색 창의 input value가 변경되었을 때 호출되는 함수에요. 텍스트를 입력할 때마다 입력된 경로가 포함되는 요소들을 보여줍니다.</li>\n<li>각 핸들러에 대응되는 드롭다운 메뉴에서 옵션을 선택하면, 옵션을 stagedValue 변수에 저장합니다.</li>\n<li>적용하기 버튼을 누르면, <code class=\"language-text\">clickApplyBtnHandler</code> 가 실행되어 stagedValue에 저장된 옵션들(delay와 status code)이 실제 핸들러에 적용됩니다. 현재 그로잉 프로젝트에서는 react-query를 사용하고 있어서 옵션들을 적용한 후 바로 데이터를 refetch하도록 만들기 위해 마지막으로 <code class=\"language-text\">queryClient.invalidateQueries()</code> 를 실행해주고 있어요.</li>\n<li>real은 현실적인 응답 시간 정도를 지연해주는 옵션입니다. infinite는 응답을 무한하게 delay 시켜주는 옵션입니다. 이는 로딩 상태가 잘 표시되는 지 등을 확인할 때 유용하게 사용할 수 있어요.</li>\n</ul>\n<h4>코드에서 한 가지 생각해볼 점이 있었어요.</h4>\n<p><code class=\"language-text\">const stagedValue = useRef&lt;{[key: string]: SetHandlerParams;}>({});</code> 부분에서 왜 useRef 훅을 사용했을까요?</p>\n<p>stagedValue를 useRef없이 사용하면, 검색을 할 때마다 MSWToolbar 컴포넌트가 재실행 되어 stagedValue가 빈 객체로 초기화됩니다. 이를 방지하고자 useState 훅을 사용하면, stagedValue가 변경 될 때마다 리렌더링이 발생해요.</p>\n<p>그래서 컴포넌트가 재실행 되더라도 stagedValue값을 유지하면서, stagedValue가 변경되더라도 리렌더링이 일어나지 않게 하기 위해 useRef hook을 사용했어요.</p>\n<h3>툴바는 리액트 돔 트리에서 어디에 위치해야 할까?</h3>\n<div class=\"gatsby-highlight\" data-language=\"tsx\"><pre class=\"language-tsx\"><code class=\"language-tsx\"><span class=\"token keyword\">const</span> root <span class=\"token operator\">=</span> ReactDOM<span class=\"token punctuation\">.</span><span class=\"token function\">createRoot</span><span class=\"token punctuation\">(</span>document<span class=\"token punctuation\">.</span><span class=\"token function\">getElementById</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"root\"</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">as</span> HTMLElement<span class=\"token punctuation\">)</span>\n\n<span class=\"token function\">enableMocking</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  root<span class=\"token punctuation\">.</span><span class=\"token function\">render</span><span class=\"token punctuation\">(</span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">React.StrictMode</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n      </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">BrowserRouter</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n        </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">QueryClientProvider</span></span> <span class=\"token attr-name\">client</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>queryClient<span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n          </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">ReactQueryDevtools</span></span> <span class=\"token attr-name\">initialIsOpen</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span><span class=\"token boolean\">false</span><span class=\"token punctuation\">}</span></span> <span class=\"token punctuation\">/></span></span><span class=\"token plain-text\">\n          </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">GlobalStyle</span></span> <span class=\"token punctuation\">/></span></span><span class=\"token plain-text\">\n          </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">ThemeProvider</span></span> <span class=\"token attr-name\">theme</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>myTheme<span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n            </span><span class=\"token punctuation\">{</span>process<span class=\"token punctuation\">.</span>env<span class=\"token punctuation\">.</span><span class=\"token constant\">NODE_ENV</span> <span class=\"token operator\">===</span> <span class=\"token string\">\"development\"</span> <span class=\"token operator\">&amp;&amp;</span> <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">MSWToolbar</span></span> <span class=\"token punctuation\">/></span></span><span class=\"token punctuation\">}</span><span class=\"token plain-text\">\n            </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">AsyncBoundary</span></span>\n              <span class=\"token attr-name\">pendingFallback</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">FullScreenLoading</span></span> <span class=\"token punctuation\">/></span></span><span class=\"token punctuation\">}</span></span>\n              <span class=\"token attr-name\">rejectedFallback</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> error<span class=\"token punctuation\">,</span> resetErrorBoundary <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">(</span>\n                <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">FullScreenError</span></span>\n                  <span class=\"token attr-name\">error</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>error<span class=\"token punctuation\">}</span></span>\n                  <span class=\"token attr-name\">resetErrorBoundary</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>resetErrorBoundary<span class=\"token punctuation\">}</span></span>\n                <span class=\"token punctuation\">/></span></span>\n              <span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span></span>\n            <span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n              </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">App</span></span> <span class=\"token punctuation\">/></span></span><span class=\"token plain-text\">\n            </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span><span class=\"token class-name\">AsyncBoundary</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n          </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span><span class=\"token class-name\">ThemeProvider</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n        </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span><span class=\"token class-name\">QueryClientProvider</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n      </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span><span class=\"token class-name\">BrowserRouter</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n    </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span><span class=\"token class-name\">React.StrictMode</span></span><span class=\"token punctuation\">></span></span>\n  <span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span></code></pre></div>\n<p><strong>다음은 MSWToolbar 컴포넌트의 위치를 선택할 때 고려한 내용들이에요.</strong></p>\n<ol>\n<li>MSWToolbar는 dev모드에서만 뜨도록 해야 합니다.</li>\n<li>MSWToolbar는 런타임에 영향을 주지 않아야 합니다.</li>\n<li>MSWToolbar에서 styled-component의 theme을 이용하고 있어 ThemeProvider 안에 들어가야 합니다.</li>\n<li>react query로 관리되고 있는 서버 데이터의 invalidate해줄 수 있어야 하므로 QueryClientProvider 안에 들어가야 합니다.</li>\n</ol>\n<p>1번을 위해 NODE_ENV에 따라 Toolbar를 표시해 주었고 2, 3번을 고려해 AsyncBoundary밖이면서 ThemeProvider와 QueryClientProvider의 안에 위치 시켰어요.</p>\n<p>MSWToolbar를 이용해 의도적으로 error 상황을 테스트할 때, 그로잉 프로젝트에서 AsyncBoundary와 함께 사용하고 있는 FullScreenError가 뜰 수 있어요. 이때, MSWToolbar는 런타임에서 발생하는 에러 범위 밖에서 상태코드를 200으로 바꿔줄 수 있어야 하기 때문에 AsyncBoundary밖에 위치시켜두었어요.</p>\n<h2>결론</h2>\n<p>이 과정을 통해 MSW와 MSW를 활용한 Toolbar 도입에 성공할 수 있었어요.</p>\n<p>MSW를 통한 API 모킹은 API 경로를 기반으로 이루어지므로, 각 요청을 명확하게 식별하고 관리할 수 있었어요.</p>\n<p>MSW Toolbar는 네트워크 요청의 시뮬레이션 과정을 간소화해주는데 큰 도움을 주었어요. 기존에는 네트워크 상태를 모니터링하고 조정하기 위해 크롬의 개발자 도구에 의존했지만, 이제는 Toolbar를 통해 직접적으로 응답 시간을 조절하거나 특정 API 요청에서 에러 상태를 유발하는 등의 작업을 쉽게 처리할 수 있게 되었어요. 이에 따라 다양한 네트워크 환경과 에러 상황을 빠르게 시뮬레이션하고 대응할 수 있을 것으로 기대하고 있어요.</p>\n<p>이를 통해 개발 과정에서의 시행착오를 줄이고, 개발 효율성을 높여가며, 최종적으로 사용자에게 더 나은 서비스를 제공하는 그로잉 팀이 되어볼게요. 감사합니다 :)</p>","frontmatter":{"title":"API 요청 시뮬레이션을 간편하게: 그로잉 팀의 MSW Toolbar 도입기","date":"February 25, 2024","update":"February 25, 2024","tags":["growing","msw","mocking"],"series":"MSW Toolbar로 다양한 시나리오 테스트하기"},"fields":{"slug":"/msw-toolbar/","readingTime":{"minutes":19.61}}},"seriesList":{"edges":[{"node":{"id":"4f66afb8-7a6a-512e-9059-cb8944da2816","fields":{"slug":"/msw/"},"frontmatter":{"title":"MSW로 mocking을 해보자 "}}},{"node":{"id":"c7f66eaa-90e0-519d-8f14-cc308cc82297","fields":{"slug":"/msw-toolbar/"},"frontmatter":{"title":"API 요청 시뮬레이션을 간편하게: 그로잉 팀의 MSW Toolbar 도입기"}}}]},"previous":{"fields":{"slug":"/msw/"},"frontmatter":{"title":"MSW로 mocking을 해보자 "}},"next":null},"pageContext":{"id":"c7f66eaa-90e0-519d-8f14-cc308cc82297","series":"MSW Toolbar로 다양한 시나리오 테스트하기","previousPostId":"4f66afb8-7a6a-512e-9059-cb8944da2816","nextPostId":null}},"staticQueryHashes":[],"slicesMap":{}}